                        ---=== Gunicorn ===---

# install
sudo pip install gunicorn

# Тестирование способности Gunicorn обслуживать проект:
gunicorn --bind 0.0.0.0:8000 myproject.wsgi

# Gunicorn config:
vim /home/user/project/project/gunicorn_conf.py

    command = '/home/name/project/env/bin/gunicorn'
    pythonpath = '/home/name/project'
    bind = '127.0.0.1:8001'
    workers = 5
    user = 'user'
    limit_request_fields = 32000
    limit_request_field_size = 0
    raw_env = 'DJANGO_SETTINGS_MODULE=project.settings'

# gunicorn run file:
vim ~/project/bin/start_gunicorn.sh

    #!/bin/bash
    source /home/user/project/env/bin/activate
    source /home/user/project/setenv.sh
    exec gunicorn  -c "/home/user/project/project/gunicorn_conf.py" project.wsgi

# root
chmod +x /home/user/project/bin/start_gunicorn.sh

# Install Nginx --
nginx_conf

# Install and configure supervisor
# Now recommended way is using Systemd instead of supervisor. 
sudo apt install supervisor

vim /etc/supervisor/conf.d/myproject.conf

    [program:gunicorn]
    command=/home/name/project/bin/start_gunicorn.sh
    user=username
    process_name=%(program_name)s
    numprocs=1
    autostart=true
    autorestart=true
    redirect_stderr=true

# commands
sudo service supervisor stop
sudo service supervisor start
sudo supervisorctl reread
sudo supervisorctl update
sudo supervisorctl restart all

